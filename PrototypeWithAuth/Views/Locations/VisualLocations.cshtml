@model PrototypeWithAuth.ViewModels.VisualLocationsViewModel
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@

@*Name:
    @Model.LocationInstanceName

    Columns:
    @Model.Height

    Rows:
    @Model.Width*@

<script src="~/js/site.js" asp-append-version="true"></script>


<button class="btn btn-link visual-locations-zoom float-right zoon-in-btn" style="text-decoration:none;" value="@Model.ParentLocationInstance.LocationInstanceID"> <i class="icon-zoom_in-24px font-weight-bold"></i> Zoom In</button>
<br />
<table class="table table-sm border">
    @{
        int z = -1;
    }
    @for (int X = 0; X < Model.ParentLocationInstance.Height; X++)
    {
        <tr>
            @for (int y = 0; y < Model.ParentLocationInstance.Width; y++)
            {
                z++;
                var backgroundClass = "border";
                var innerHtml = "NONE";
                @if (Model.ChildrenLocationInstances.ToList().Count() >= z) //put this in an if statement so it won't run into an instance where it doesn't exist since it's not a foreach
                {
                    if (Model.ChildrenLocationInstances[z].RequestLocationInstances.Any())
                    {
                        backgroundClass += " bg-secondary";
                        innerHtml = Model.ChildrenLocationInstances[z].RequestLocationInstances.FirstOrDefault().Request.Product.ProductName;
                    }
                }
                <td class="@backgroundClass">@innerHtml</td>
                @*<td class="border">
                        @if (Model.ChildrenLocationInstances.ToList().Count() >= z)
                        {
                            <span>@Model.ChildrenLocationInstances[z].LocationInstanceName</span>
                            z++;
                        }
                    </td>*@
            }
        </tr>
    }
</table>