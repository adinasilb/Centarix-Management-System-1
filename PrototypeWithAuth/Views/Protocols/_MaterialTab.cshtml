@model PrototypeWithAuth.ViewModels.MaterialTabViewModel
@using PrototypeWithAuth.AppData
<div class="container-fluid new-modal-body m-0 " style="width:70%">
    <div class="row">
        @foreach (var material in Model.MaterialCategories)
        {
            <div class="col heading-1">
                @material.MaterialCategoryDescription
            </div>
        }
    </div>
    <div class="row">
        @foreach (var materialC in Model.MaterialCategories)
        {
        <div class="col">
            <div class="container">
                @{ var materialsPerCategory = Model.Materials.Where(m => m.MaterialCategoryID == materialC.MaterialCategoryID);
                    if (materialsPerCategory.Count() > 0)
                    {
                        foreach (var material in materialsPerCategory)
                        {
                            var color = " protocols-color";
                            var seeMaterialColor = "disabled-color";
                            if (material.Info !=null)
                            {
                                seeMaterialColor = color;
                            }
                            var materialNameColor = "";
                            var seeProductDetailsColor = "disabled-color";
                            if(material.Product!=null)
                            {
                                seeProductDetailsColor = color;
                                materialNameColor = "text-blue";
                            }

                            var updateImageColor = "";

                            if (Model.Folders[0].FileStrings != null && Model.Folders[0].FileStrings.Count > 0)
                            {
                                updateImageColor= color;
                            }
                            //var deleteMaterialColor = color;
                            var materialName = material.Name ?? material.Product.ProductName;
                            <div class="row">
                                <div class="card-border material-cards">
                                    <div class="text @materialNameColor">@materialName</div>
                                    <hr class="mb-2 mt-2"/>
                                    <div class=" d-flex text-center   align-items-center justify-content-sm-around">
                                        <a href="" class="open-document-modal mark-edditable" data-string="@AppUtility.FolderNamesEnum.MaterialPictures" data-id="@material.ProtocolID" id="@AppUtility.FolderNamesEnum.MaterialPictures" data-val="@true" showSwitch="@false">
                                            <i class=" icon-camera_alt-24px " style="font-size:1.55rem"></i>
                                        </a>
                                        <button class=" see-material  btn btn-link no-box-shadow p-0 m-0">
                                            <i class=" icon-info-24px-2 " style="font-size:1.55rem"></i>
                                        </button>
                                        <button class=" open-material-product @seeProductDetailsColor btn btn-link no-box-shadow p-0 m-0">
                                            <i class=" icon-broken-link " style="font-size:1.55rem"></i>
                                        </button>
                                        <button class=" delete-material  btn btn-link no-box-shadow p-0 m-0">
                                            <i class=" icon-delete-24px1  " style="font-size:1.55rem"></i>
                                        </button>
                                    </div>
                                
                                </div>
                                
                            </div>
                          
                        }
                    }

                }
            </div>
          
        </div>

        }
    </div>
    <div class="row">
        @foreach (var material in Model.MaterialCategories)
        {
            <div class="col text-center">
                <button value="@material.MaterialCategoryID" type="button" class="no-box-shadow btn p-0 m-0 addMaterial ">
                    <i class="protocols-color icon-add_circle_outline-24px1" style="font-size: 3rem;"></i>
                </button>
            </div>
        }
    </div>
</div>