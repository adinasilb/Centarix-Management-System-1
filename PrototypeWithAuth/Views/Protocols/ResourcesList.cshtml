@model PrototypeWithAuth.ViewModels.ResourcesListViewModel;
@{
    ViewData["Title"] = "ResourcesList";
    Layout = "~/Views/Shared/RequestNavView.cshtml";
}
<script src="~/js/resourceslist.js"></script>
<div class="row under-row-margin side-menu black-text">
    @for (int i = 0; i < Model.PaginationTabs.Count; i++)
    {
        <a href="@Url.Action("Library", "Protocols")" class="black-text">
            @Model.PaginationTabs[i]
            @if (i < Model.PaginationTabs.Count - 1)
            {
                <span>&nbsp;>&nbsp;</span>
            }
        </a>
    }
</div>
<div class="row under-row-margin">
    @foreach (var resource in Model.Resources)
    {
        <div class="type-div" style="width:22%;">
            <fieldset class=" resource-fieldset px-3 pt-2">
                <div class="resource-title heading-1">@resource.Title</div>
                <div class="resource-tags protocols-color">
                    Tags:
                    @{var first = true; }
                    @foreach (var resourceResourceCategory in resource.ResourceResourceCategories)
                    {
                        if (!first)
                        {
                            <span>,</span>
                        }
                        else
                        {
                            first = false;
                        }
                        <span>@resourceResourceCategory.ResourceCategory.ResourceCategoryDescription</span>
                    }
                </div>
                @{ int endCounter = Convert.ToInt32(resource.Summary?.Length < 246 ? resource.Summary?.Length : 246); }
                <div class="resource-summary text under-row-margin ">@resource.Summary?.Substring(0, endCounter)</div>
                <div class="list-buttons row m-2 py-4 form-element-border-top-small w-100">
                    <div class="col-3">
                        <input class="small-custom-button call-resource-notes" value="Notes" id="@resource.ResourceID" />
                    </div>
                    <div class=" col-6 offset-3 float-right">
                        <button href="#" type="button" data-toggle="popover" data-placement="bottom" @*data-container="body" data-trigger="focus"*@ class="btn p-0 m-0 no-box-shadow more favorite-protocol" value="@resource.ResourceID">
                            <i class="icon-favorite_border-24px hover-bold px-1" style="font-size:2rem;">
                            </i>
                        </button>
                        <button href="#" type="button" data-toggle="popover" data-placement="bottom" @*data-container="body" data-trigger="focus"*@ class="btn p-0 m-0 no-box-shadow more " value="@resource.ResourceID">
                            <i class="icon-share-24px1 hover-bold px-1" style="font-size:2rem;">
                            </i>
                        </button>
                        <button href="#" type="button" data-toggle="popover" data-placement="bottom" @*data-container="body" data-trigger="focus"*@ class="btn p-0 m-0 no-box-shadow more " value="@resource.ResourceID">
                            <i class="icon-create-24px hover-bold px-1" style="font-size:2rem;">
                            </i>
                        </button>
                    </div>
                </div>
            </fieldset>
        </div>
    }
</div>