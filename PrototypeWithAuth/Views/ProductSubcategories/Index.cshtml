@model IEnumerable<PrototypeWithAuth.Models.ProductSubcategory>
@using PrototypeWithAuth.AppData

@{

    ViewData["Title"] = "Index";
    var pagetype = TempData[AppUtility.TempDataTypes.PageType.ToString()];
    if (Model.FirstOrDefault().ParentCategory.CategoryTypeID == 1)
    {
        Layout = "~/Views/Shared/RequestNavView.cshtml";
    }
    else if (Model.FirstOrDefault().ParentCategory.CategoryTypeID == 2)
    {
        Layout = "~/Views/Shared/RequestNavView.cshtml";
    }

}

@*<<<<<<<<<<<< This is the Types page divs >>>>>>>>>>>>>>>*@

@*<table class="table">
    <tbody>*@

@*<div class="d-flex">
        <div>

        </div>
    </div>*@

<div class="text-center">
    <div class="d-flex">

        @{ var firstRow = true;
            var first = true;}
        @for (int i = 0; i < Model.Count(); i++)
        {

            if (i > 0 && i % 7 == 0 )
            {
                first = true;
            @:</div><div class="d-flex type-outer-div">
            }
           
            <div class="type-div" >
                <fieldset class=" type-fieldset">
                    @*@Html.ActionLink(Model.ElementAt(i).ProductSubcategoryDescription, "Index", "Requests", new { @subcategoryID = @Model.ElementAt(i).ProductSubcategoryID, @PageType = pagetype }, null)*@
                    @if (Model.FirstOrDefault().ParentCategory.CategoryTypeID == 1)
                    {
                        <a href="@Url.ActionLink("Index", "Requests", new { @subcategoryID = @Model.ElementAt(i).ProductSubcategoryID, @PageType = pagetype }, null)" class="text text-dark">
                            @if (Model.ElementAt(i).ImageURL != null)
                            {
                                <img class=" type-img " src="@Model.ElementAt(i).ImageURL" alt="Type Bottle" />
                            }
                            else
                            {

                                <img class=" type-img" src="~/images/css/inventory/Type/bottleBig.png" alt="Type Bottle" />
                            }
                        <label class="type-label"> @Model.ElementAt(i).ProductSubcategoryDescription</label>
                         
                        </a>
                    }
                    else if (Model.FirstOrDefault().ParentCategory.CategoryTypeID == 2)
                    {
                <a href="@Url.ActionLink("Index", "Operations", new { @subcategoryID = @Model.ElementAt(i).ProductSubcategoryID, @PageType = pagetype }, null)" class="text text-dark">
                    @if (Model.ElementAt(i).ImageURL != null)
                    {
                        <img class=" type-img" src="@Model.ElementAt(i).ImageURL" alt="Type Bottle" />
                    }
                    else
                    {

                        <img class="type-img" src="~/images/css/inventory/Type/bottleBig.png" alt="Type Bottle" />
                    }
                    <label class="type-label">@Model.ElementAt(i).ProductSubcategoryDescription</label>
                </a>
                    }

                </fieldset>
            </div>
        }


    </div>
</div>
