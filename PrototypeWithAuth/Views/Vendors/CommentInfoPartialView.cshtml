@model PrototypeWithAuth.ViewModels.AddCommentViewModel
@using Microsoft.AspNetCore.Identity
@using PrototypeWithAuth.Data
@using PrototypeWithAuth.AppData
@{

    var disabled = "";
    if (Model.IsEdit)
    {
        disabled = "disabled";
    }
}


    <div class="table comment-info border p-2 mb-3">
        @{
            var dynamicID = "VendorComments_" + Model.Index + "__";
            var dynamicName = "VendorComments[" + Model.Index + "].";
        }

        <input type="hidden" id="@(dynamicID)VendorCommentID" name="@(dynamicName)VendorCommentID" value="@Model.VendorComment.VendorCommentID" class="comment-type" />
        <input type="hidden" id="@(dynamicID)CommentType" name="@(dynamicName)CommentType" value="@Model.VendorComment.CommentType" class="comment-type" />
        <input type="hidden" id="@(dynamicID)ApplicationUserID" name="@(dynamicName)ApplicationUserID" value="@Model.VendorComment.ApplicationUserID" class="comment-type" />
        <input type="hidden" id="@(dynamicID)CommentTimeStamp" name="@(dynamicName)CommentTimeStamp" value="@Model.VendorComment.CommentTimeStamp" class="comment-type" />

        <div class="row ml-2  border-bottom-0 mb-0">
            <div class="col-1 mt-auto mb-auto ">
                @{
                    var src = "/UserImages/user-image-placeholder.png";
                    if (Model.VendorComment.ApplicationUser.UserImage != null)
                    {
                        src = "\\" + AppUtility.GetLastFiles(Model.VendorComment.ApplicationUser.UserImage, 2);
                    }
                }
                <img src="@src" class=" ml-0 circular-profile-img circular-profile-img-50" alt="default User image" />
            </div>
            <div class="col-9 ">
                <div class=" p-3 ">
                    <label class="m-0"> @Model.VendorComment.ApplicationUser.FirstName</label>
                    <label class="m-0">@Model.VendorComment.ApplicationUser.LastName</label>
                    <label class="m-0">@Model.VendorComment.CommentTimeStamp.ToString("MMMM") @Model.VendorComment.CommentTimeStamp.Day, @Model.VendorComment.CommentTimeStamp.Year @Model.VendorComment.CommentTimeStamp.ToString("hh:mm tt") </label>
                    @{
                        var commentTextID = "VendorComments_" + Model.Index + "__CommentText";
                        var commentTextName = "VendorComments[" + Model.Index + "].CommentText";
                        var commentTextValue = Model.VendorComment.CommentText;
                    }
                    <input name="@commentTextName" id="@commentTextID" value="@commentTextValue" class="form-control-plaintext border-bottom m-0 p-0 comment-text mark-readonly" @disabled />

                </div>

            </div>
            <div class=" col-2 ">
                @if (Model.VendorComment.CommentType.Equals(AppUtility.CommentTypeEnum.Comment.ToString()))
                {
                    <i class="icon-comment-24px float-right m-4" style="padding-top: .55rem; font-size: 1.25rem; color: #30BCC9;"></i>
                }
                else if (Model.VendorComment.CommentType.Equals(AppUtility.CommentTypeEnum.Warning.ToString()))
                {
                    <i class="icon-report_problem-24px float-right m-4" style="padding-top: .55rem; font-size: 1.25rem; color: var(--danger-color);"></i>
                }
            </div>

        </div>
    </div>