@model List<EmployeeHours>
@using Microsoft.AspNetCore.Identity
@using PrototypeWithAuth.Data
@inject UserManager<ApplicationUser> UserManager

    <div class="row mt-6 p-3 text-center">
        <div class="col-4 pl-5 text-left">
            Date
        </div>
        <div class="col-3">
            Entry Time
        </div>
        <div class="col-3">
            Exit Time
        </div>
        <div class="col-2">
            Total
        </div>
    </div>
    @foreach (var eh in Model)
    {
<div class="row border p-3 text-center">

    <div class="col-4 pl-5 text-left">
        @eh.Date.ToLongDateString()
    </div>
    @if (eh.OffDayType == null)
    {
        <div class="col-3">
            @eh.Entry1?.ToShortTimeString()
            <br />
            @eh.Entry2?.ToShortTimeString()
        </div>
        <div class="col-3">
            @eh.Exit1?.ToShortTimeString()
            <br />
            @eh.Exit2?.ToShortTimeString()
        </div>
    }
    else
    {
        <div class="col-3">
            @eh.OffDayType.Description
        </div>
        <div class="col-3">

        </div>
    }

    <div class="col-2  timekeeper-font-color font-weight-bold">
        @{var hours = eh.TotalHours == TimeSpan.Zero ? "" : eh.TotalHours?.ToString(@"h\:mm"); }
        @hours
    </div>

</div>

    }
    <div class="row mt-6 py-4 pl-3 text-center">
        <div class="col-2">
            Work Days
        </div>
        <div class="col-2">
            Sick Days
        </div>
        <div class="col-2">
            Vacation Days
        </div>
        <div class="col-6  text-right pr-5">
            Total Hours
        </div>
    </div>
    <div class="row mt-2 p-4  border  text-center" style="border-color: var(--timekeeper-color) !important;">
        <div class="col-2">
            @Model.Where(eh => eh.OffDayTypeID == null).Count()
        </div>
        <div class="col-2">
            @Model.Where(eh => eh.OffDayTypeID == 1).Count()
        </div>
        <div class="col-2">
            @Model.Where(eh => eh.OffDayTypeID == 2).Count()
        </div>
        <div class="col-6 text-right pr-5 timekeeper-font-color font-weight-bold">
            @Model.Select(eh => eh.TotalHours).Aggregate(TimeSpan.Zero, (t1, t2) => t1+ (t2 ?? TimeSpan.Zero)).ToString(@"hh\:mm")

        </div>
    </div>