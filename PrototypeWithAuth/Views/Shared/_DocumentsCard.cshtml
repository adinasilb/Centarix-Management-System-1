@model PrototypeWithAuth.ViewModels.DocumentsCardViewModel
@using Microsoft.AspNetCore.Identity
@using PrototypeWithAuth.Data
@using PrototypeWithAuth.AppData

@{
    var fontSize = "2rem";

    var color = "";
    switch (Model.SectionType)
    {
        case AppUtility.MenuItems.Operations:
            color = "oper-filter";
            break;
        case AppUtility.MenuItems.LabManagement:
            color = "lab-man-filter";
            break;
        case AppUtility.MenuItems.Accounting:
            color = "accounting-filter";
            break;
        case AppUtility.MenuItems.Requests:
            color = "order-inv-filter";
            break;
        case AppUtility.MenuItems.Users:
            color = "users-filter";
            break;
        case AppUtility.MenuItems.Protocols:
            color = "protocols-filter";
            break;
    }
}

@{
    
    
    
    var folder = Model.DocumentInfo;



}

@{
var filterClass = "opac87";
   var hasFileClass = "";
var filesCount = folder.FileStrings != null ? folder.FileStrings.Count : 0;
if (filesCount > 0)
 {
        filterClass = color;
    hasFileClass = "hasFile";
}
   var id = folder.ObjectID == null ? "0" : folder.ObjectID;
}

<div class="card document-border @hasFileClass ">
    <div class="document-card text-center pb-2" >
        <div class="col-4 pr-0 d-flex align-items-end mb-1">
            <label class="control-label">@filesCount Files</label>
        </div>
        <div class="col-4 d-flex align-items-center">
            <a href="" class=" open-document-modal mark-edditable" data-string="@folder.FolderName.ToString()" data-id="@id" id="@folder.FolderName.ToString()" data-val="@true" showSwitch="@false" parentFolder="@folder.ParentFolderName">
                <i class="@folder.Icon @filterClass document-icon m-0" alt="order" style="font-size:@fontSize"></i>
            </a>
        </div>
        <div class="col-4 d-flex align-items-end mb-1 ">
            @if (Model.ModalType != AppUtility.RequestModalType.Summary)
            {
                <label>
                <i class="icon-upload_file_black_24dp-1 opac54 m-0" alt="order" style="font-size:1rem;"></i>
                <input type="file" class="file-select direct-upload d-none mark-readonly" accept=".png, .jpg, .jpeg, .pdf, .pptx, .ppt, .docx, .doc, .xlsx, .xls" id="FilesToSave" name="FilesToSave">
            </label>
            }
        </div>
    </div>

</div>
<label class="control-label text-center text document-text-margin" style="width:100%;">@folder.FolderName</label>